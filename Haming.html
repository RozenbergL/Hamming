<!DOCTYPE html>
<html>
	<head>
		<title>Haming code</title>
		<script>
			function code(){
				let message = document.getElementById('inputData').value;
				let inputDigits = message.split('');
				for (let i = 0; i < inputDigits.length; i++){
					inputDigits[i] = inputDigits[i] * 1;
				}
				inputDigits.push((inputDigits[0] + inputDigits[1] + inputDigits[3]) % 2);
				inputDigits.push((inputDigits[0] + inputDigits[2] + inputDigits[3]) % 2);
				inputDigits.push((inputDigits[1] + inputDigits[2] + inputDigits[3]) % 2);
				document.getElementById('codedData').value = inputDigits.join('');
			}
			function decode(){
				let code = document.getElementById('codedData').value;
				let codedDigits = code.split('');
				for (let i = 0; i < codedDigits.length; i++){
					codedDigits[i] = codedDigits[i] * 1;
				}
				let error;
				if ((codedDigits[0] + codedDigits[1] + codedDigits[3]) % 2 == codedDigits[4] % 2 && (codedDigits[0] + codedDigits[2] + codedDigits[3]) % 2 == codedDigits[5] % 2 && (codedDigits[1] + codedDigits[2] + codedDigits[3]) % 2 == codedDigits[6] % 2){
					error = "no errors";
					}
				else{
					if ((codedDigits[0] + codedDigits[1] + codedDigits[3]) % 2 == codedDigits[4] % 2 && (codedDigits[0] + codedDigits[2] + codedDigits[3]) % 2 != codedDigits[5] % 2 && (codedDigits[1] + codedDigits[2] + codedDigits[3]) % 2 != codedDigits[6] % 2){
						codedDigits[2] = (codedDigits[2] + 1) % 2;
						error = 2;
					}
					if ((codedDigits[0] + codedDigits[1] + codedDigits[3]) % 2 == codedDigits[4] % 2 && (codedDigits[0] + codedDigits[2] + codedDigits[3]) % 2 == codedDigits[5] % 2 && (codedDigits[1] + codedDigits[2] + codedDigits[3]) % 2 != codedDigits[6] % 2){
						codedDigits[6] = (codedDigits[6] + 1) % 2;
						error = 6;
					}
					if ((codedDigits[0] + codedDigits[1] + codedDigits[3]) % 2 == codedDigits[4] % 2 && (codedDigits[0] + codedDigits[2] + codedDigits[3]) % 2 != codedDigits[5] % 2 && (codedDigits[1] + codedDigits[2] + codedDigits[3]) % 2 == codedDigits[6] % 2){
						codedDigits[5] = (codedDigits[5] + 1) % 2;
						error = 5;
						}
					if ((codedDigits[0] + codedDigits[1] + codedDigits[3]) % 2 != codedDigits[4] % 2 && (codedDigits[0] + codedDigits[2] + codedDigits[3]) % 2 == codedDigits[5] % 2 && (codedDigits[1] + codedDigits[2] + codedDigits[3]) % 2 == codedDigits[6] % 2){
						codedDigits[4] = (codedDigits[4] + 1) % 2;
						error = 4;
						}
					if ((codedDigits[0] + codedDigits[1] + codedDigits[3]) % 2 != codedDigits[4] % 2 && (codedDigits[0] + codedDigits[2] + codedDigits[3]) % 2 != codedDigits[5] % 2 && (codedDigits[1] + codedDigits[2] + codedDigits[3]) % 2 == codedDigits[6] % 2){
						codedDigits[0] = (codedDigits[0] + 1) % 2;
						error = 0;
						}
					if ((codedDigits[0] + codedDigits[1] + codedDigits[3]) % 2 != codedDigits[4] % 2 && (codedDigits[0] + codedDigits[2] + codedDigits[3]) % 2 == codedDigits[5] % 2 && (codedDigits[1] + codedDigits[2] + codedDigits[3]) % 2 != codedDigits[6] % 2){
						codedDigits[1] = (codedDigits[1] + 1) % 2;
						error = 1;
						}
					if ((codedDigits[0] + codedDigits[1] + codedDigits[3]) % 2 != codedDigits[4] % 2 && (codedDigits[0] + codedDigits[2] + codedDigits[3]) % 2 != codedDigits[5] % 2 && (codedDigits[1] + codedDigits[2] + codedDigits[3]) % 2 != codedDigits[6] % 2){
						codedDigits[3] = (codedDigits[3] + 1) % 2;
						error = 3;
						}
					}
			document.getElementById('decodedData').value = codedDigits.join('');
			document.getElementById('error').value = error;
			}
		</script>
	<head>
	<body>
		<p> <input type = 'text' id = 'inputData'/> input data</p>
		<p> <input type = 'button' onclick = 'code()' value = 'Code'/></p>
		<p> <input type = 'text' id = 'codedData'/> coded data</p>
		<p> <input type = 'button' onclick = 'decode()' value = 'Decode'/></p>
		<p> <input type = 'text' id = 'decodedData'/> decoded data</p>
		<p> <input type = 'text' id = 'error'/> error</p>
	</body>
</html>